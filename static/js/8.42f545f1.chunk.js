(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[8],{34:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j}));var c=n(35),r=n.n(c),a=n(37),o="https://api.themoviedb.org/3",i="d487c6d6cc7f608fd9f791a1c234621c";function u(){return s.apply(this,arguments)}function s(){return s=Object(a.a)(r.a.mark((function e(){var t,n,c,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not Found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function h(){return u("".concat(o,"/trending/movie/day?api_key=").concat(i))}function f(e){return u("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&page=1"))}function b(e){return u("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function d(e){return u("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i))}function j(e){return u("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i))}},61:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var c=n(33),r=n(0),a=n(10),o=n(38),i=n.n(o),u=n(34),s=n(1);function h(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(c.a)(n,2),o=a[0],i=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):window.alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441")},className:"SearchForm",children:[Object(s.jsx)("input",{value:o,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",name:"search",onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})})}function f(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],f=Object(r.useState)(""),b=Object(c.a)(f,2),d=b[0],j=b[1],l=Object(r.useState)("init"),m=Object(c.a)(l,2),p=m[0],v=m[1];return Object(r.useEffect)((function(){d&&(v("pending"),u.d(d).then((function(e){if(o(e.results),v("success"),0===e)return v("error")})))}),[d]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h,{onSubmit:j}),"init"===p&&Object(s.jsx)("h1",{children:"Hello! Search something...."}),"pending"===p&&Object(s.jsx)(i.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),"success"===p&&Object(s.jsx)("ul",{children:n&&n.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=8.42f545f1.chunk.js.map